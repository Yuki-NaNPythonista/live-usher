# ライブ会場入場権利確認システム 要件定義書

## 1. システム概要

### 1.1 目的
ライブ会場において、来場者のCAMPFIRE IDを基に入場権利の有無を即座に確認し、スムーズな入場管理を実現する。

### 1.2 システム名
ライブ会場入場権利確認システム

### 1.3 対象ユーザー
- 来場者(スマートフォンユーザー)
- 会場スタッフ(確認作業者)

## 2. システム要件

### 2.1 機能要件

#### 2.1.1 QRコードアクセス機能
- 会場に設置されたQRコードを読み取ることでシステムにアクセス可能
- QRコードには本システムのURLが埋め込まれている

#### 2.1.2 ID入力機能
- CAMPFIRE IDを入力するためのフォームを提供
- 入力欄は1つ(CAMPFIRE ID用)
- 送信ボタンを配置

#### 2.1.3 照合機能
- 入力されたCAMPFIRE IDをGoogleスプレッドシートのデータと照合
- 照合結果(OK/NG)を判定

#### 2.1.4 結果表示機能
- 入場OK: 入場可能を示す画面を表示
- 入場NG: 入場不可を示す画面を表示
- 視覚的に分かりやすい表示(色分け、アイコンなど)

### 2.2 非機能要件

#### 2.2.1 ユーザビリティ
- スマートフォンでの表示に最適化
- シンプルで直感的なUI
- タップしやすいボタンサイズ
- 読みやすいフォントサイズ

#### 2.2.2 性能
- 照合処理は5秒以内に完了
- 同時アクセス数: 小規模会場向け(10-20人程度の同時アクセス)
- 大規模会場での高負荷動作は保証対象外

#### 2.2.3 セキュリティ
- 不正アクセス対策(必要に応じて基本認証)
- スプレッドシートのアクセス権限管理

#### 2.2.4 互換性
- iOS Safari対応
- Android Chrome対応
- レスポンシブデザイン

## 3. データ要件

### 3.1 スプレッドシート構成
Googleスプレッドシートに以下のデータを格納

| 列名 | データ型 | 説明 | 必須 |
|------|----------|------|------|
| CAMPFIRE_ID | 文字列 | CAMPFIREのユーザーID | ◯ |
| 氏名 | 文字列 | 支援者の氏名 | - |
| リターン内容 | 文字列 | 支援したリターン | - |
| 入場権利 | 文字列 | "有" または "無" | ◯ |
| 備考 | 文字列 | その他メモ | - |

### 3.2 データ更新
- スプレッドシートは管理者が事前に準備
- リアルタイムでの追加・変更には対応しない

## 4. 画面要件

### 4.1 画面構成
1. ID入力画面(初期画面)
2. 入場OK画面
3. 入場NG画面
4. エラー画面(該当なし)

### 4.2 画面遷移
```
QRコード読み取り
    ↓
ID入力画面
    ↓
ID送信
    ↓
照合処理
    ↓
  ┌─────┴─────┐
  ↓             ↓
入場OK画面    入場NG画面
または
エラー画面
```

## 5. 技術要件

### 5.1 推奨技術スタック
- フロントエンド: HTML5 + CSS3 + JavaScript
- バックエンド: Google Apps Script
- データベース: Google スプレッドシート
- ホスティング: GitHub Pages (静的サイト)

### 5.2 外部連携
- Google Sheets API (Apps Script経由)

## 6. 制約事項

### 6.1 システム制約
- インターネット接続が必須
- Googleアカウントでのスプレッドシート管理が必要
- Apps Scriptの実行回数制限に準拠
- GitHub Pagesでの静的サイトホスティング(サーバーサイド処理不可)

### 6.2 運用制約
- 事前にスプレッドシートへのデータ登録が必要
- 会場にWi-Fi環境の整備が推奨
- 小規模会場向けの設計(大規模会場での高負荷動作は保証対象外)

## 7. 前提条件

- CAMPFIREのIDは支援者に事前通知済み
- スプレッドシートに正確なデータが登録されている
- 来場者はスマートフォンを所持している
- QRコードリーダーアプリがインストールされている(または標準カメラで読み取り可能)

## 8. 除外事項

以下の機能は本システムの対象外とする:
- チケット購入機能
- 決済機能
- 入場履歴の記録
- 再入場管理
- 管理画面(スプレッドシートを直接編集)
- ID以外の認証方式(顔認証など)

## 9. 成功基準

- スムーズな入場確認が可能(1人あたり30秒以内)
- 誤判定がないこと
- スマートフォンで問題なく操作できること
- 会場スタッフが簡単に運用できること

## 10. プロジェクトスケジュール(参考)

| フェーズ | 期間 | 内容 |
|---------|------|------|
| 要件定義 | 1週間 | 本書作成 |
| 詳細設計 | 1週間 | 画面設計、データ設計 |
| 開発 | 2週間 | コーディング、テスト |
| テスト | 1週間 | 総合テスト、リハーサル |
| 本番運用 | イベント当日 | 実運用 |

## 11. リスクと対応策

| リスク | 影響度 | 対応策 |
|--------|--------|--------|
| 会場でのネット接続不良 | 高 | 事前にWi-Fi環境を確認、バックアップ回線準備 |
| スプレッドシートへの同時アクセス集中 | 中 | Apps Scriptのキャッシュ機能活用 |
| IDの入力ミス | 中 | 明確なエラーメッセージ表示 |
| スマホのバッテリー切れ | 低 | 会場に充電スペース設置 |

---

**作成日**: 2025年11月19日  
**バージョン**: 1.1 (GitHub Pages対応版)